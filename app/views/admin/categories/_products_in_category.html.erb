<div class="product-catagory-inner yo-white-card box-border">
  <h5>Products in Category</h5>
  <%= form_tag("/admin/categories/#{@category.id}/category_products_with_pagination",id: "product-in-category-form",method: :get, local: false, remote: true, class: "category-products-form")  do |f|%>
    <input type="hidden" name="page" class="page-number">
    <div class="d-flex align-items-center flex-wrap">
      <div class="search-field active mb-3 mr-2 search-field-flex">
      
        <input type="text" placeholder="Search" name="q[title_or_brand_or_sku_or_yan_or_ean_cont]" class="category-products-search-term input-btn-sm">

          <%= link_to "/admin/categories/#{@category.id}/category_products_with_pagination", class: 'icon-cross-container d-none', remote: true do %>
            <i class="icon-cross" aria-hidden="true" style="top: 14px;font-size: 12px;"></i>
          <% end %>

          <i class="fa fa-search icon-search-container" aria-hidden="true"></i>
      </div>
      
      <div class="dropdown-filter-field dropdown-filter-custom active mb-8 ml-2 mr-2 dropdown-filter-border" id="pages-id">
        <div class="dropdown">
          <a href="#" class="btn btn-radius btn-sm px-4 btn-primary btn-link-dropdown-1 d-inline-flex align-items-center" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Results Per Page: <%= "#{params[:per_page]}" if params[:per_page].present? %><i class="fa fa-angle-down ml-3" aria-hidden="true"></i></a>
          <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <%= form_tag(admin_products_path, method: :get) do %>
            <%= link_to "javascript:void(0);", data: { per_page: 15 }, class: 'perpage-option'  do %>
            <span class="<%= 'fa fa-check' if params[:per_page] == '15' %>" aria-hidden="true"></span>
            Result Per Page: 15
            <% end %>
            <%= link_to "javascript:void(0);", data: { per_page: 30 }, class: 'perpage-option'  do %>
            <span class="<%= 'fa fa-check' if params[:per_page] == '30' %>" aria-hidden="true"></span>
            Result Per Page: 30
            <% end %>
            <%= link_to "javascript:void(0);", data: { per_page: 60 }, class: 'perpage-option'  do %>
            <span class="<%= 'fa fa-check' if params[:per_page] == '60' %>" aria-hidden="true"></span>
            Result Per Page: 60
            <% end %>
            <%= link_to "javascript:void(0);", data: { per_page: 90 }, class: 'perpage-option'  do %>
            <span class="<%= 'fa fa-check' if params[:per_page] == '90' %>" aria-hidden="true"></span>
            Result Per Page: 90
            <% end %>
            <%= link_to "javascript:void(0);", data: { per_page: 180 }, class: 'perpage-option'  do %>
            <span class="<%= 'fa fa-check' if params[:per_page] == '180' %>" aria-hidden="true"></span>
            Result Per Page: 180
            <% end %>
            <% end %>
          </div>
        </div>
      </div>

      <div class="">
        <%= link_to 'Remove from Category', category_products_delete_multiple_admin_categories_path(@category), class: 'btn btn-radius btn-sm px-4 btn-primary mb-3 remove-category-products-btn' %>
      </div>
    </div>
    <%= submit_tag "+", class: "pl-3 pluse-btn submit-category-products-form-btn d-none" %>
  <% end %>
  <div class="Yavolo-table">
    <table class="table">
      <thead>
      <tr>
        <th class="filter-groups-select-all-container">
          <label class="checkbox-blk">
            <input type="checkbox" id="filter-group-select-all">
            <span class="checkmark checkmark-white"></span>
          </label>
        </th>
        <th>Status</th>
        <th>Product Name</th>
        <th>Attribute</th>
<!--         <th>Sort Order</th>
 -->        <th>Stock</th>
        <th>Price</th>
      </tr>
      </thead>
      <tbody class="category-products-container">
      <%= render( :partial => "product_in_category", :collection => @category_products, :as => :product) || render("no_product_in_category") %>

      </tbody>
    </table>
    <% if @category_products.present? %>
      <div class="row">
        <div class="col-md-6 mx-auto">
          <div class="pager-middle text-center d-flex justify-content-center mb-4 mt-5" id="category_paginator">
            <%= paginate @category_products, remote: true, params: {controller: "/admin/categories", action: 'category_products_with_pagination'} %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
